{"version":3,"sources":["../../../../src/data/memory-cache/memory-cache.js"],"names":["getItems","require","connect","sortedSetJSON","canSet","overwrite","helpers","indexOf","connection","props","items","id","i","length","setAdd","set","item","algebra","concat","module","exports","behavior","baseConnect","_sets","getSetData","_getListData","setsData","setData","_instances","getInstance","removeSet","setKey","noUpdate","sets","updateSets","updateInstance","idProp","updateSet","setDatum","newSet","newSetKey","oldSetKey","extend","self","ids","forEach","addSet","data","_eachSet","cb","loop","result","undefined","_getSets","prop","push","getSets","Promise","resolve","clear","getListData","checkSet","subset","getSubset","reject","message","error","updateListData","union","getSet","then","getUnion","getData","params","res","createData","instance","updateData","index","splice","destroyData"],"mappings":"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","file":"memory-cache.js"}